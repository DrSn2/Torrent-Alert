<dom-module id="inbox-item">

    <template>
        <paper-icon-item class="bg-white bordered cursor-p hover relative" on-tap="paperIconItemTap" style="align-items: flex-start;">
            <div item-icon style="margin-top: 16px;">
                <selectable-icon icon_class$="[[polymer_class(item.icon_class)]]" icon_text$="[[placeholder(item.icon_text)]]" id="selectableIcon" selected$="[[selected]]"></selectable-icon>
            </div>

            <paper-item-body two-line style="margin-right: 0; min-height: 0; padding: 14px 0;">
                <div><span>[[item.cc]]</span> <span>[[placeholder(item.input)]]</span> <span>[[item.kc]]</span></div>
                <div class="lowercase" secondary>[[secondary(item)]]</div>
            </paper-item-body>

            <!-- <paper-ripple></paper-ripple> -->
        </paper-icon-item>
    </template>

    <script>
    Polymer({

        is: "inbox-item",

        paperIconItemTap: function(e) {
            if (Polymer.dom(e).localTarget.id != "selectableIcon") {
                e.stopPropagation();

                var patent_view = document.querySelector("#patent_view");

                patent_view.item = this.item;
                patent_view.toggle();
            }
        },

        placeholder: function(text) {
            return (text ? text : "#");
        },

        polymer_class: function(text) {
            return (text ? polymer_color(text) : "grey-500");
        },

        properties: {
            item: {
                type: Object
            },
            selected: {
                notify: true,
                reflectToAttribute: true,
                type: Boolean,
                value: false
            }
        },

        secondary: function(item) {
            return (item.legal_status ? item.legal_status : (item.uspto_error ? item.uspto_error : "#"));
        }

    });
    </script>

</dom-module>
