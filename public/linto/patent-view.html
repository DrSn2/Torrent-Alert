<dom-module id="patent-view">

    <style>
    :host {
        display: none;
    }
    
    :host([active]) {
        display: block;
    }
    
    paper-toolbar {
        --paper-toolbar-background: #9E9E9E;
        --paper-toolbar-color: white;
    }
    
    paper-toolbar paper-icon-button {
        margin: 0!important;
    }
    
    paper-toolbar .title {
        padding: 0 12px;
    }
    
    .primary-text {
        border-bottom: 2px solid #AAA;
        color: #AAA;
        padding: 4px 8px;
    }
    
    .secondary-text {
        line-height: 1.4em;
        padding: 12px 8px;
        text-align: justify;
    }
    </style>

    <template>
        <template if="[[item]]" is="dom-if">
            <paper-header-panel class="fit" style="background: white; z-index: 1;">
                <paper-toolbar>
                    <paper-icon-button icon="arrow-back" on-click="toggle"></paper-icon-button>
                    <div class="title"><span>[[item.cc]]</span> <span>[[placeholder(item.input)]]</span> <span>[[item.kc]]</span></div>
                    <paper-icon-button icon="more-vert" on-tap="more"></paper-icon-button>
                </paper-toolbar>

                <div class="center-justified horizontal layout">
                    <div class="li" style="padding: 32px 16px;">
                        <div class="vertical layout">
                            <div class="cursor-d primary-text">Title</div>
                            <div class="cursor-d lowercase secondary-text">[[placeholder(item.title)]]</div>
                        </div>

                        <div class="vertical layout">
                            <div class="cursor-d primary-text">Filing</div>
                            <div class="cursor-d lowercase secondary-text">[[placeholder(item.app_date)]]</div>
                        </div>

                        <div class="vertical layout">
                            <div class="cursor-d primary-text">Legal Status</div>
                            <div class="cursor-d lowercase secondary-text">[[placeholder(item.legal_status)]]</div>
                        </div>

                        <div class="vertical layout">
                            <div class="cursor-d primary-text">Application Type</div>
                            <div class="cursor-d lowercase secondary-text">[[placeholder(item.app_type)]]</div>
                        </div>
                    </div>
                </div>
            </paper-header-panel>
        </template>
    </template>

    <script>
    Polymer({

        fromNow: function(time) {
            return moment(time, ["YYYY-MM-DD"]).fromNow();
        },

        is: "patent-view",

        more: function() {
            document.querySelector("#polymer_toast").toast("moreOptNotFound");
        },

        placeholder: function(text) {
            return (text ? text : "#");
        },

        properties: {
            active: {
                notify: true,
                reflectToAttribute: true,
                type: Boolean,
                value: false
            },
            item: {
                type: Object
            }
        },

        toggle: function() {
            this.active = !this.active;
        }

    });
    </script>

</dom-module>
